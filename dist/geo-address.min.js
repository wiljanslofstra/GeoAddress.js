/*!
 * GeoAddress 0.1.0
 * @author: Wiljan Slofstra <wiljanslofstra@gmail.com>
 * @url: https://github.com/wiljanslofstra/GeoAddress.js
 */
!function(e,o){"function"==typeof define&&define.amd?define([],o):e.GeoAddress=o(e)}(this,function(){var e={overwriteValues:!1,dataAttribute:"data-geo",dataSelector:".geo-address",success:function(){},error:function(){}},o=new google.maps.Geocoder,n=function(o){o=o||{},e=l(e,o),s()?t():e.error("Geolocation is not supported.")},t=function(){navigator.geolocation.getCurrentPosition(r,a)},r=function(e){var o=e.coords.latitude,n=e.coords.longitude,t=new google.maps.LatLng(o,n);i(t)},a=function(o){e.error(o.message,o.code)},i=function(e){o.geocode({location:e},u)},u=function(o){var n=o[0].address_components,t={street:n[1].long_name,houseNumber:n[0].long_name,place:n[2].long_name,state:n[4].long_name,country:n[5].long_name,postal:n[6].long_name};e.success(t),c(t)},c=function(o){for(var n=document.querySelectorAll(e.dataSelector),t=0;t<n.length;t++){var r=n[t],a=r.getAttribute(e.dataAttribute);(e.overwriteValues||""===r.value)&&(r.value=o[a])}},s=function(){return"geolocation"in navigator},l=function(e,o){for(var n in o)("undefined"!=typeof n||null===n)&&(e[n]=o[n]);return e};return{run:n,geolocationSupport:s,options:e}});